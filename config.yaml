---

common:
  k8s_namespace: ingress-nginx

  app_name: nginx-ingress
  replicas_count: 1
  image_version: 0.23.0

  network_policy_ingress_cidr: ''
  network_policy_egress_cidr: ''

  templates:
    - template: 000_namespace.yaml.j2
    - template: 001_serviceAccount.yaml.j2
    - template: 002_service.yaml.j2
    - template: 003_networkPolicy.yaml.j2
    - template: 010_clusterRole.yaml.j2
    - template: 011_role.yaml.j2
    - template: 012_roleBinding.yaml.j2
    - template: 013_clusterRoleBinging.yaml.j2
    - template: 020_configmapNginxConfiguration.yaml.j2
    - template: 021_configmapTCPServices.yaml.j2
    - template: 022_configmapUDPServices.yaml.j2
    - template: 030_deployment.yaml.j2

public:
  app_name: nginx-ingress-public
  network_policy_egress_cidr: "10.100.0.0/8" # Доступ только к определённому сегменту сети, от роутера
                                             # Подобную настройку надо делать всем приложениям, которые работают через этот роутер

secure:
  app_name: nginx-ingress-secure
  network_policy_ingress_cidr: "10.0.0.0/8" # Доступ из всей внутренней подсети к роутеру
  network_policy_egress_cidr: "10.0.0.0/8" # Мы можем приходить к любому во внутренней подсети, т.к. пришли на доверенный роутер
